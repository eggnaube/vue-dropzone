{"version":3,"file":"vue2Dropzone.js","sources":["../src/services/urlsigner.js","../src/components/vue-dropzone.vue"],"sourcesContent":["export default {\n  getSignedURL(file, endpoint, headers) {\n    let payload = {\n      filePath: file.name,\n      contentType: file.type\n    }\n\n    return new Promise((resolve, reject) => {\n      let request = new XMLHttpRequest();\n      request.open(\"POST\", endpoint);\n      request.onload = function () {\n        if (request.status == 200) {\n          resolve(JSON.parse(request.response));\n        } else {\n          reject((request.statusText));\n        }\n      };\n      request.onerror = function (err) {\n        console.error(\"Network Error : Could not send request to AWS (Maybe CORS errors)\");\n        reject(err)\n      };\n      Object.entries(headers).forEach(([name, value]) => {\n        request.setRequestHeader(name, value);\n      });\n      request.send();\n    });\n  },\n  sendFile(file, endpoint, headers) {\n    var fd = new FormData();\n    return this.getSignedURL(file, endpoint, headers)\n      .then((response) => {\n        let signature = response.signature;\n        Object.keys(signature).forEach(function (key) {\n          if (key == 'key') {\n            fd.append('key', file.name);\n          } else if (key == 'Content-Type') {\n            fd.append(\"Content-Type\", file.type);\n          } else {\n            fd.append(key, signature[key]);\n          }\n        });\n        fd.append('file', file);\n        return new Promise((resolve, reject) => {\n          let request = new XMLHttpRequest();\n          request.open('POST', response.postEndpoint);\n          request.onload = function () {\n            if (request.status == 201) {\n              var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\n              var successMsg = s3Error.firstChild.children[0].innerHTML;\n              resolve({\n                'success': true,\n                'message': successMsg\n              })\n            } else {\n              var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\n              var errMsg = s3Error.firstChild.children[0].innerHTML;\n              reject({\n                'success': false,\n                'message': errMsg + \". Request is marked as resolved when returns as status 201\"\n              })\n            }\n          };\n          request.onerror = function (err) {\n            var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\n            var errMsg = s3Error.firstChild.children[1].innerHTML;\n            reject({\n              'success': false,\n              'message': errMsg\n            })\n          };\n          request.send(fd);\n        });\n      })\n      .catch((error) => {\n        return error;\n      });\n  }\n}\n","<template>\n  <div v-bind:class=\"{ 'vue-dropzone dropzone': includeStyling }\" :id=\"id\" ref=\"dropzoneElement\">\n  </div>\n</template>\n\n<script>\nimport awsEndpoint from '../services/urlsigner'\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    options: {\n      type: Object,\n      required: true\n    },\n    includeStyling: {\n      type: Boolean,\n      default: true,\n      required: false\n    },\n    awss3: {\n      type: Object,\n      required: false,\n      default: null\n    },\n    destroyDropzone: {\n      type: Boolean,\n      default: true,\n      required: false\n    }\n  },\n  data() {\n    return {\n      isS3: false,\n      wasQueueAutoProcess: true,\n    }\n  },\n  computed: {\n    dropzoneSettings() {\n      let defaultValues = {\n        thumbnailWidth: 200,\n        thumbnailHeight: 200\n      }\n      Object.keys(this.options).forEach(function(key) {\n        defaultValues[key] = this.options[key]\n      }, this)\n      if (this.awss3 !== null) {\n        defaultValues['autoProcessQueue'] = false;\n        this.isS3 = true;\n        if (this.options.autoProcessQueue !== undefined)\n          this.wasQueueAutoProcess = this.options.autoProcessQueue;\n      }\n      return defaultValues\n    }\n  },\n  methods: {\n    manuallyAddFile: function(file, fileUrl) {\n      file.manuallyAdded = true;\n      this.dropzone.emit(\"addedfile\", file);\n      this.dropzone.emit(\"thumbnail\", file, fileUrl);\n\n      var thumbnails = file.previewElement.querySelectorAll('[data-dz-thumbnail]');\n      for (var i = 0; i < thumbnails.length; i++) {\n        thumbnails[i].style.width = this.dropzoneSettings.thumbnailWidth + 'px';\n        thumbnails[i].style.height = this.dropzoneSettings.thumbnailHeight + 'px';\n        thumbnails[i].style['object-fit'] = 'contain';\n      }\n      this.dropzone.emit(\"complete\", file)\n      if (this.dropzone.options.maxFiles) this.dropzone.options.maxFiles--\n      this.dropzone.files.push(file)\n      this.$emit('vdropzone-file-added-manually', file)\n    },\n    setOption: function(option, value) {\n      this.dropzone.options[option] = value\n    },\n    removeAllFiles: function(bool) {\n      this.dropzone.removeAllFiles(bool)\n    },\n    processQueue: function() {\n      let dropzoneEle = this.dropzone;\n      if (this.isS3 && !this.wasQueueAutoProcess) {\n        this.getQueuedFiles().forEach((file) => {\n          this.getSignedAndUploadToS3(file);\n        });\n      } else {\n        this.dropzone.processQueue();\n      }\n      this.dropzone.on(\"success\", function() {\n        dropzoneEle.options.autoProcessQueue = true\n      });\n      this.dropzone.on('queuecomplete', function() {\n        dropzoneEle.options.autoProcessQueue = false\n      })\n    },\n    init: function() {\n      return this.dropzone.init();\n    },\n    destroy: function() {\n      return this.dropzone.destroy();\n    },\n    updateTotalUploadProgress: function() {\n      return this.dropzone.updateTotalUploadProgress();\n    },\n    getFallbackForm: function() {\n      return this.dropzone.getFallbackForm();\n    },\n    getExistingFallback: function() {\n      return this.dropzone.getExistingFallback();\n    },\n    setupEventListeners: function() {\n      return this.dropzone.setupEventListeners();\n    },\n    removeEventListeners: function() {\n      return this.dropzone.removeEventListeners();\n    },\n    disable: function() {\n      return this.dropzone.disable();\n    },\n    enable: function() {\n      return this.dropzone.enable();\n    },\n    filesize: function(size) {\n      return this.dropzone.filesize(size);\n    },\n    accept: function(file, done) {\n      return this.dropzone.accept(file, done);\n    },\n    addFile: function(file) {\n      return this.dropzone.addFile(file);\n    },\n    removeFile: function(file) {\n      this.dropzone.removeFile(file)\n    },\n    getAcceptedFiles: function() {\n      return this.dropzone.getAcceptedFiles()\n    },\n    getRejectedFiles: function() {\n      return this.dropzone.getRejectedFiles()\n    },\n    getFilesWithStatus: function() {\n      return this.dropzone.getFilesWithStatus()\n    },\n    getQueuedFiles: function() {\n      return this.dropzone.getQueuedFiles()\n    },\n    getUploadingFiles: function() {\n      return this.dropzone.getUploadingFiles()\n    },\n    getAddedFiles: function() {\n      return this.dropzone.getAddedFiles()\n    },\n    getActiveFiles: function() {\n      return this.dropzone.getActiveFiles()\n    },\n    getSignedAndUploadToS3(file) {\n      awsEndpoint.sendFile(file, this.awss3.signingURL, this.awss3.headers)\n        .then((response) => {\n          if (response.success) {\n            file.s3ObjectLocation = response.message\n            setTimeout(() => this.dropzone.processFile(file))\n            this.$emit('vdropzone-s3-upload-success', response.message);\n          } else {\n            if ('undefined' !== typeof message) {\n              this.$emit('vdropzone-s3-upload-error', response.message);\n            } else {\n              this.$emit('vdropzone-s3-upload-error', \"Network Error : Could not send request to AWS. (Maybe CORS error)\");\n            }\n          }\n        })\n        .catch((error) => {\n          alert(error);\n        });\n    },\n    setAWSSigningURL(location) {\n      if (this.isS3) {\n        this.awss3.signingURL = location;\n      }\n    }\n  },\n  mounted() {\n    if (this.$isServer && this.hasBeenMounted) {\n      return\n    }\n    this.hasBeenMounted = true\n    let Dropzone = require('dropzone') //eslint-disable-line\n    Dropzone.autoDiscover = false\n    this.dropzone = new Dropzone(this.$refs.dropzoneElement, this.dropzoneSettings)\n    let vm = this\n\n    this.dropzone.on('thumbnail', function(file, dataUrl) {\n      vm.$emit('vdropzone-thumbnail', file, dataUrl)\n    })\n\n    this.dropzone.on('addedfile', function(file) {\n      if (vm.duplicateCheck) {\n        if (this.files.length) {\n          this.files.forEach(function(dzfile) {\n            if (dzfile.name === file.name) {\n              this.removeFile(file)\n              vm.$emit('duplicate-file', file)\n            }\n          }, this)\n        }\n      }\n      vm.$emit('vdropzone-file-added', file)\n      if (vm.isS3 && vm.wasQueueAutoProcess) {\n        vm.getSignedAndUploadToS3(file);\n      }\n    })\n\n    this.dropzone.on('addedfiles', function(files) {\n      vm.$emit('vdropzone-files-added', files)\n    })\n\n    this.dropzone.on('removedfile', function(file) {\n      vm.$emit('vdropzone-removed-file', file)\n      if (file.manuallyAdded) vm.dropzone.options.maxFiles++\n    })\n\n    this.dropzone.on('success', function(file, response) {\n      vm.$emit('vdropzone-success', file, response)\n      if (vm.isS3 && vm.wasQueueAutoProcess) {\n        vm.setOption('autoProcessQueue', false);\n      }\n    })\n\n    this.dropzone.on('successmultiple', function(file, response) {\n      vm.$emit('vdropzone-success-multiple', file, response)\n    })\n\n    this.dropzone.on('error', function(file, message, xhr) {\n      vm.$emit('vdropzone-error', file, message, xhr)\n    })\n\n    this.dropzone.on('errormultiple', function(files, message, xhr) {\n      vm.$emit('vdropzone-error-multiple', files, message, xhr)\n    })\n\n    this.dropzone.on('sending', function(file, xhr, formData) {\n      if (vm.isS3)\n        formData.append('s3ObjectLocation', file.s3ObjectLocation);\n      vm.$emit('vdropzone-sending', file, xhr, formData)\n    })\n\n    this.dropzone.on('sendingmultiple', function(file, xhr, formData) {\n      vm.$emit('vdropzone-sending-multiple', file, xhr, formData)\n    })\n\n    this.dropzone.on('complete', function(file) {\n      vm.$emit('vdropzone-complete', file)\n    })\n\n    this.dropzone.on('completemultiple', function(files) {\n      vm.$emit('vdropzone-complete-multiple', files)\n    })\n\n    this.dropzone.on('canceled', function(file) {\n      vm.$emit('vdropzone-canceled', file)\n    })\n\n    this.dropzone.on('canceledmultiple', function(files) {\n      vm.$emit('vdropzone-canceled-multiple', files)\n    })\n\n    this.dropzone.on('maxfilesreached', function(files) {\n      vm.$emit('vdropzone-max-files-reached', files)\n    })\n\n    this.dropzone.on('maxfilesexceeded', function(file) {\n      vm.$emit('vdropzone-max-files-exceeded', file)\n    })\n\n    this.dropzone.on('processing', function(file) {\n      vm.$emit('vdropzone-processing', file)\n    })\n\n    this.dropzone.on('processing', function(file) {\n      vm.$emit('vdropzone-processing', file)\n    })\n\n    this.dropzone.on('processingmultiple', function(files) {\n      vm.$emit('vdropzone-processing-multiple', files)\n    })\n\n    this.dropzone.on('uploadprogress', function(file, progress, bytesSent) {\n      vm.$emit('vdropzone-upload-progress', file, progress, bytesSent)\n    })\n\n    this.dropzone.on('totaluploadprogress', function(totaluploadprogress, totalBytes, totalBytesSent) {\n      vm.$emit('vdropzone-total-upload-progress', totaluploadprogress, totalBytes, totalBytesSent)\n    })\n\n    this.dropzone.on('reset', function() {\n      vm.$emit('vdropzone-reset')\n    })\n\n    this.dropzone.on('queuecomplete', function() {\n      vm.$emit('vdropzone-queuecomplete')\n    })\n\n    this.dropzone.on('drop', function(event) {\n      vm.$emit('vdropzone-drop', event)\n    })\n\n    this.dropzone.on('dragstart', function(event) {\n      vm.$emit('vdropzone-drag-start', event)\n    })\n\n    this.dropzone.on('dragend', function(event) {\n      vm.$emit('vdropzone-drag-end', event)\n    })\n\n    this.dropzone.on('dragenter', function(event) {\n      vm.$emit('vdropzone-drag-enter', event)\n    })\n\n    this.dropzone.on('dragover', function(event) {\n      vm.$emit('vdropzone-drag-over', event)\n    })\n\n    this.dropzone.on('dragleave', function(event) {\n      vm.$emit('vdropzone-drag-leave', event)\n    })\n\n    vm.$emit('vdropzone-mounted')\n  },\n  beforeDestroy() {\n    if (this.destroyDropzone) this.dropzone.destroy()\n  }\n}\n\n</script>\n\n<style lang=\"less\">\n  @import url('~dropzone/dist/dropzone.css');\n\n  .vue-dropzone {\n    border: 2px solid #E5E5E5;\n    font-family: 'Arial', sans-serif;\n    letter-spacing: 0.2px;\n    color: #777;\n    transition: background-color .2s linear;\n\n    &:hover {\n      background-color: #F6F6F6;\n    }\n\n    i {\n      color: #CCC;\n    }\n\n    .dz-preview {\n\n      .dz-image {\n        border-radius: 0;\n        width: 100%;\n        height: 100%;\n        img:not([src]) {\n          width: 200px;\n          height: 200px;\n        }\n        &:hover {\n          img {\n            transform: none;\n            -webkit-filter: none;\n          }\n        }\n      }\n\n      .dz-details {\n        bottom: 0;\n        top: 0;\n        color: white;\n        background-color: rgba(33, 150, 243, 0.8);\n        transition: opacity .2s linear;\n        text-align: left;\n        .dz-filename {\n          overflow: hidden;\n        }\n        .dz-filename span,\n        .dz-size span {\n          background-color: transparent;\n        }\n        .dz-filename:not(:hover) span {\n          border: none;\n        }\n        .dz-filename:hover span {\n          background-color: transparent;\n          border: none;\n        }\n      }\n\n      .dz-progress .dz-upload {\n        background: #cccccc;\n      }\n\n      .dz-remove {\n        position: absolute;\n        z-index: 30;\n        color: white;\n        margin-left: 15px;\n        padding: 10px;\n        top: inherit;\n        bottom: 15px;\n        border: 2px white solid;\n        text-decoration: none;\n        text-transform: uppercase;\n        font-size: 0.8rem;\n        font-weight: 800;\n        letter-spacing: 1.1px;\n        opacity: 0;\n      }\n\n      &:hover {\n        .dz-remove {\n          opacity: 1;\n        }\n      }\n\n      .dz-success-mark,\n      .dz-error-mark {\n        margin-left: auto;\n        margin-top: auto;\n        width: 100%;\n        top: 35%;\n        left: 0;\n        svg {\n          margin-left: auto;\n          margin-right: auto;\n        }\n      }\n\n      .dz-error-message {\n        top: calc(15%);\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        width: 100%;\n        &:after {\n          bottom: -6px;\n          top: initial;\n          border-top: 6px solid #a92222;\n          border-bottom: none;\n        }\n      }\n    }\n  }\n</style>\n"],"names":["let","this"],"mappings":"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"}